<!DOCTYPE html>
<html>
<head>
    <title>OKCJS Browserify</title>
    <meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' />
    <link href='css/big.css' rel='stylesheet' type='text/css' />
    <link href='css/prettify.css' rel='stylesheet' type='text/css' />
    <script src='lib/big.js'></script>
    <script src='lib/prettify.js'></script>
    <style type='text/css'>
        @import url('css/open-sans.css');
        body {
            font-family: 'Open Sans';
            background: #CDCDCD;
            background-repeat:no-repeat;
            background-size:cover;
            color: #545454;
        }
        ul {
            list-style-type: none;
        }
        div.imageText {
          text-shadow:0px 0px 5px rgba(0,0,0,0.2);
          color: #FFF;
        }
        em.navy {
          font-style:normal;
          color:#000033;
        }
        em.orange {
          font-style:normal;
          color:#E0A641;
        }
        em.dark-red {
          font-style:normal;
          color:#800000;
        }
        em.light-blue {
          font-style:normal;
          color:#2F5480;
        }
        a {
          color:#CDCDCD;
          text-decoration:none;
        }
        a.navy {
          background:#000033;
        }
        a.orange {
          background: #E0A641;
        }
        a.dark-red {
          background: #800000;
        }
        a.light-blue{
            color:#2F5480;
        }
    </style>
</head>
<div><img src='img/browserify.png' />
    <ul>
        <li style="visibility:hidden">*</li>
        <li style="visibility:hidden">*</li>
        <li style="visibility:hidden">*</li>
        <li style="visibility:hidden">*</li>
        <li><em class='light-blue'>rockin the wizard hat</em></li>
    </ul>
</div>
<div><img src='img/may20.png' />
    <ul>
        <li><em class='navy'>Jordan Rousseau</em></li>
        <li><em class='light-blue'>@jvrousseau</em></li>
        <li><em class='light-blue'>jrousseau@wdtinc.com</em></li>
    </ul>
</div>
<div>
    <pre class='prettyprint'>
&lt;script type="text/javascript" src="lib/leaflet.js"/&gt;
&lt;script type="text/javascript" src="lib/bootstrap.js"/&gt;
&lt;script type="text/javascript" src="lib/jquery.js"/&gt;
&lt;script type="text/javascript" src="js/map.js"/&gt;
&lt;script type="text/javascript" src="js/control.js"/&gt;
&lt;script type="text/javascript" src="js/view.js"/&gt;
&lt;script type="text/javascript" src="js/is_he_really_using_bootstrap.js"/&gt;
    </pre>
</div>
<div><a class='dark-red' href='./examples/d3-include/d3.html' target='_blank'>click</a></div>
<div>
    how can I get to:
    <pre class='prettyprint'>
&lt;script type="text/javascript" src="js/bundle.js"/&gt;
    </pre>
</div>
<div><img src='img/ant.png' />
    <ul>
        <li><em class='navy'>use ant to combine files</em></li>
        <li style="visibility:hidden">*</li>
        <li style="visibility:hidden">*</li>
        <li style="visibility:hidden">*</li>
        <li style="visibility:hidden">*</li>
        <li style="visibility:hidden">*</li>
        <li style="visibility:hidden">*</li>
    </ul>
</div>
<div>
  <img src="img/michael-scott-no.gif" alt="" />
  <h2 style="visibility: hidden;">
    WORDS WORDS WORDS WORDS
  </h2>
</div>
<div>
    <pre class='prettyprint'>
&lt;target name="combine"&gt;
    &lt;exec executable="java.exe"&gt;
        &lt;arg value="-jar" /&gt;
        &lt;arg value="build/JsCombine.jar" /&gt;
        &lt;arg value="build/javascriptLib.txt" /&gt;
        &lt;arg value="com/wdtinc/maps/javascriptLib.js" /&gt;
    &lt;/exec&gt;
&lt;/target&gt;
&lt;target name="minify" depends="combine" description="Minifiy a set of files"&gt;
    &lt;available file="build/YUIAnt.jar" property="YUIANT_AVAILABLE" /&gt;
    &lt;fail unless="YUIANT_AVAILABLE" message="Run jar target to generate the required task" /&gt;
    &lt;taskdef name="yuicompress" classname="com.yahoo.platform.yui.compressor.YUICompressTask"&gt;
        &lt;classpath&gt;
            &lt;pathelement path="build/yuicompressor-2.4.6.jar" /&gt;
            &lt;pathelement path="build/YUIAnt.jar" /&gt;
        &lt;/classpath&gt;
    &lt;/taskdef&gt;
    &lt;yuicompress outputfolder="com"&gt;
        &lt;fileset dir="com"&gt;
            &lt;include name="**/javascriptLib.js" /&gt;
        &lt;/fileset&gt;
    &lt;/yuicompress&gt;
&lt;/target&gt;
    </pre>
</div>
<div><img src='img/list.png' /></div>
<div>
    what about development environment?
</div>
<div>
    PHP...
    <pre class='prettyprint'>
&lt;?php
if (ENV == 'DEVELOPMENT')
{
?&gt;
    &lt;script type="text/javascript" src="lib/leaflet.js"/&gt;
    &lt;script type="text/javascript" src="lib/bootstrap.js"/&gt;
    &lt;script type="text/javascript" src="lib/jquery.js"/&gt;
    &lt;script type="text/javascript" src="js/map.js"/&gt;
    &lt;script type="text/javascript" src="js/control.js"/&gt;
    &lt;script type="text/javascript" src="js/view.js"/&gt;
    &lt;script type="text/javascript" src="js/is_he_really_using_bootstrap.js"/&gt;
    &lt;script type="text/javascript" src="js/so_many_script_tags.js"/&gt;
&lt;?php
}
else
{
?&gt;
    &lt;script type="text/javascript" src="js/bundle.js"/&gt;
&lt;?php
}
?&gt;
    </pre>
</div>
<div>
    JS...
    <pre class='prettyprint'>
if (ENV === 'DEVELOPMENT') {
    var js_library_array = [];
    for (i in js_library_array) {
        var js_library_location = js_library_array[i];
        var script = document.createElement('script');
        script.type = 'text/javascript';
        script.src = js_library_location;
        document.getElementsByTagName('head')[0].appendChild(script);
    }
} else {
    var script = document.createElement('script');
    script.type = 'text/javascript';
    script.src = 'js/bundle.js';
    document.getElementsByTagName('head')[0].appendChild(script);
}
    </pre>
</div>
<div>
  <img src="img/regret.gif" alt="" />
  <h2 style="visibility: hidden;">
    WORDS WORDS WORDS WORDS
  </h2>
</div>
<div>
    <ul>
        <li><em class='dark-red'>what's the problem?</em></li>
        <li>complexity keeps on growing as codebase gets bigger</li>
        <li>dependencies are all on you</li>
        <li>assembling the application </li>
        <li>scope and conflicts can be a pain</li>
    </ul>
</div>
<div>
    <ul>
        <li><em class='orange'>rule of modularity:</em> to build a program out of simple parts connected by well defined interfaces</li>
        <li></br></li>
        <li><a class="dark-red" href="http://maxogden.com/media/rule-of-modularity.png" target="_blank">source</a></li>
    </ul>
</div>
<div>modules</div>
<div>
    <ul>
        <li><em class="light-blue">wait...what's a module?</em></li>
        <li>isolated and arbitrary piece of code</li>
        <li>explicity exports objects or functions in code that includes it</li>
        <li>separation of concern</li>
        <li>encapsulation</li>
        <li><em class='orange'>commonjs</em> and amd (asynchronous module definition)</li>
    </ul>
</div>
<div>browserify</div>
<div>
    <ul>
        <li><em class="navy">it took me 18 slides to mention browserify...</em></li>
        <li>utility that builds commonjs modules into a single bundle</li>
        <li>browser code with node.js-style requires</li>
        <li>just like node, write modules into separate files</li>
        <li>use module.exports to expose external methods and properties</li>
    </ul>
</div>
<div><a class='orange' href='./examples/square/square.html' target='_blank'>demo</a></div>
<div>
    <ul>
        <li><em class="dark-red">hey, that was fun!</em></li>
        <li>since we are using node.js modules, we can actually use npm to install modules from from package manager</li>
    </ul>
</div>
<div>
  <img src="img/oooohhhhh.gif" alt="" />
  <h2 style="visibility: hidden;">
    WORDS WORDS WORDS WORDS
  </h2>
</div>
<div>
    <ul>
        <li><em class="orange">npm</em></li>
        <li>a node.js package manager</li>
        <li>it does <em class='dark-red'>not</em> stand for node package manager</li>
        <li>this installs packages into the node_modules directory</li>
        <li>most npm packages are modules</li>
    </ul>
</div>
<div>
    <ul>
        <li><em class="dark-red">a bit more on modules from npm</em></li>
        <li>a folder with a package.json file containing a main field</li>
        <li>a folder with an index.js file in it</li>
        <li>a javascript file</li>
        <li>almost all npm packages contain many modules (because every file they load with require() is a module)</li>
        <li style="visibility:hidden">*</li>
        <li><a class="dark-red" href="https://www.npmjs.org/doc/faq.html#What-is-a-module" target='_blank'>source</a></li>
    </ul>
</div>
<div>
    <ul>
        <li><em class="light-blue">explanation of package from npm</em></li>
        <li>a) a folder containing a program described by a package.json file</li>
        <li>b) a gzipped tarball containing (a)</li>
        <li>c) a url that resolves to (b)</li>
        <li>d) a &lt;name&gt;@&lt;version&gt; that is published on the registry with (c)</li>
        <li>e) a &lt;name&gt;@&lt;tag&gt; that points to (d)</li>
        <li>f) a &lt;name&gt; that has a "latest" tag satisfying (e)</li>
        <li>g) a git url that, when cloned, results in (a).</li>
        <li style="visibility:hidden">*</li>
        <li><a class="navy" href="https://www.npmjs.org/doc/faq.html#What-is-a-package" target='_blank'>source</a></li>
    </ul>
</div>
<div><a class='dark-red' href='./examples/mapbox-npm/mapbox.html' target='_blank'>demo</a></div>
<div>
    <ul>
        <li><em class="navy">side note on installing your own browserifiable packages/modules</em></li>
        <li><em class="light-blue">is it open source?</em> pat yourself on the back, then npm publish</li>
        <li><em class="light-blue">is it proprietary on a github private repo?</em> npm install tarball from git archive</li>
        <li><em class="light-blue">is it proprietary and you have atlassian stash as your git server?</em> publish tarball to artifact server</li>
        <li><em class="dark-red">take a wild guess what i am using</em></li>
    </ul>
</div>
<div>
  <img src="img/allthings.jpg" alt="" />
  <h2 style="visibility: hidden;">
    WORDS WORDS WORDS WORDS
  </h2>
</div>
<div>
    <ul>
        <li><em class="orange">transforms</em></li>
        <li>run source transformations on files before parsing them for require()</li>
        <li>useful for language compilation like coffeescript <em class="light-blue">(coffeeify)</em> or gorillascript <em class="light-blue">(gorillaify)</em> to javascript</li>
        <li>or loading static assets into your bundle by parsing for fs.readFileSync() <em class="light-blue">(brfs)</em></li>
        <li>or translate AMD modules to node-style modules automatically <em class="light-blue">(deAMDify)</em></li>
        <li style="visibility:hidden">*</li>
        <li><a class="orange" href="https://github.com/substack/node-browserify/wiki/list-of-transforms" target='_blank'>list of transforms</a></li>
    </ul>
</div>
<div>
    <ul>
        <li><em class="dark-red">browserify resources</em></li>
        <li></br></li>
        <li><a class="orange" href="http://benclinkinbeard.com/posts/how-browserify-works/" target="_blank">benclinkinbeard.com</a></li>
        <li>don't let browserify be a black box</li>
        <li></br></li>
        <li><a class="light-blue" href="http://maxogden.com/node-packaged-modules.html" target="_blank">maxogden.com</a></li>
        <li>great resource + requirebin.com is amazing</li>
        <li></br></li>
        <li><a class="dark-red" href="https://github.com/jmreidy/grunt-browserify" target="_blank">grunt-browserify</a></li>
        <li>grunt task for browserify (let's be honest...it's just easier)</li>
        <li></br></li>
        <li><a class="navy" href="https://github.com/substack/node-browserify/wiki" target="_blank">browserify github wiki</a></li>
        <li>solid resource from the source</li>
    </ul>
</div>
<div>
    now go grab a robe, grow a beard and do some browserify
</div>
<!--<div>
  <img src="img/jordan-gandalf.jpg" alt="" />
</div>-->
<div>
    <ul>
        <li><em class='light-blue'>questions?</em></li>
        <li></br></li>
        <li><em class="orange">have a question later?</em></li>
        <li>@jvrousseau</li>
        <li>jrousseau@wdtinc.com</li>
        <li></br></li>
        <li></br></li>
        <li><em class="navy">slides</em></li>
        <li>rousseau.io/browserify-okcjs</li>
        <li></br></li>
        <li></br></li>
        <li><em class='dark-red'>slides powered by</em></li>
        <li>github.com/tmcw/big</li>
    </ul>
</div>
<script>prettyPrint();</script>
